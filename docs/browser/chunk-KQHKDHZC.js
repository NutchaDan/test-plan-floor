import{a as ae}from"./chunk-PVHKTXRS.js";import{a as le}from"./chunk-E6QK4XSZ.js";import{$ as te,A as b,B as x,C as p,D as z,E as d,F as V,G as u,H as Q,J as U,K as I,M as N,N as Y,O as R,P as E,T as W,U as X,V as ee,a as L,b as $,c as C,d as H,da as ie,ea as oe,f as D,fa as re,g as F,ga as ne,h as q,i as G,j as y,k as h,l as K,m as J,n as j,o as a,p as g,q as Z,r as v,s as m,t as S,u as M,v as l,w as r,x as _}from"./chunk-S3ZCHYJG.js";var o=function(i){return i.Available="available",i.Occupied="occupied",i}(o||{});var w=[{id:1,name:"Building A",floors:[1,2],rooms:{1:[{id:"room-10101",typeId:"type-a",status:o.Available,price:1e4,imageUrl:["https://scontent.fhdy2-1.fna.fbcdn.net/v/t39.30808-6/489926757_979961950941737_2917545348810691037_n.jpg?_nc_cat=110&ccb=1-7&_nc_sid=127cfc&_nc_ohc=UpRtrs0uTTgQ7kNvwGgV4Nv&_nc_oc=AdkicA5Ok8_lOoGJZ3zx5oMrEZDuJFKA52mFg4GZTXrnPuJc6mWoDfLx5Z-VBN_7i5Q&_nc_zt=23&_nc_ht=scontent.fhdy2-1.fna&_nc_gid=_8VHy_r7f-rwG_cV3jKJhQ&oh=00_AfEYpmaBbTR7azxRB08YNC4vh-Uh5rt3AnYf8tLNmKFALA&oe=68150333"],virtualTourOverrideUrl:""},{id:"room-10102",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10103",typeId:"type-b",status:o.Available,price:1e4,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10104",typeId:"type-b",status:o.Available,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10105",typeId:"type-a",status:o.Available,price:1e4,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10106",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10107",typeId:"type-b",status:o.Available,price:1e4,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10108",typeId:"type-b",status:o.Available,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10109",typeId:"type-a",status:o.Available,price:1e4,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10110",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10111",typeId:"type-b",status:o.Available,price:1e4,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10112",typeId:"type-b",status:o.Available,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10113",typeId:"type-a",status:o.Available,price:1e4,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10114",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10115",typeId:"type-b",status:o.Available,price:1e4,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10116",typeId:"type-b",status:o.Available,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10117",typeId:"type-a",status:o.Available,price:1e4,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10118",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10119",typeId:"type-b",status:o.Available,price:1e4,imageUrl:[""],virtualTourOverrideUrl:""}],2:[{id:"room-10201",typeId:"type-b",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10202",typeId:"type-b",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10203",typeId:"type-b",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10204",typeId:"type-a",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10205",typeId:"type-a",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10206",typeId:"type-b",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10207",typeId:"type-b",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10208",typeId:"type-b",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10209",typeId:"type-b",status:o.Occupied,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10210",typeId:"type-a",status:o.Occupied,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10211",typeId:"type-b",status:o.Occupied,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10212",typeId:"type-a",status:o.Occupied,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10213",typeId:"type-b",status:o.Occupied,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10214",typeId:"type-a",status:o.Occupied,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10215",typeId:"type-b",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10216",typeId:"type-a",status:o.Occupied,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10217",typeId:"type-b",status:o.Occupied,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10218",typeId:"type-a",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-10219",typeId:"type-a",status:o.Available,price:11e3,imageUrl:[""],virtualTourOverrideUrl:""}]}},{id:2,name:"Building B",floors:[1,2,3],rooms:{1:[{id:"room-20101",typeId:"type-a",status:o.Available,price:8500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20102",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20103",typeId:"type-a",status:o.Available,price:8500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20104",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20105",typeId:"type-a",status:o.Available,price:8500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20106",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20107",typeId:"type-a",status:o.Available,price:8500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20108",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20109",typeId:"type-a",status:o.Available,price:8500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20110",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20111",typeId:"type-a",status:o.Available,price:8500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20112",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20113",typeId:"type-a",status:o.Available,price:8500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20114",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20115",typeId:"type-a",status:o.Available,price:8500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20116",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20117",typeId:"type-a",status:o.Available,price:8500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20118",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20119",typeId:"type-a",status:o.Available,price:8500,imageUrl:[""],virtualTourOverrideUrl:""}],2:[{id:"room-20201",typeId:"type-b",status:o.Available,price:10500,imageUrl:[""],virtualTourOverrideUrl:""},{id:"room-20202",typeId:"type-a",status:o.Occupied,price:9500,imageUrl:[""],virtualTourOverrideUrl:""}],3:[{id:"room-20301",typeId:"type-b",status:o.Available,price:9e3,imageUrl:[""],virtualTourOverrideUrl:""}]}}];var k=(()=>{class i{constructor(){}getAllBuildings(){return w}getBuildingById(e){return w.find(t=>t.id===e)}getFloorPath(e,t){return`assets/html/building-${e}/floor-${t}.html`}getRoomsForBuildingAndFloor(e,t){let n=w.find(f=>f.id===e);if(!n)return;let s=Object.keys(n.rooms).find(f=>Number(f)===t);if(s)return n.rooms[Number(s)]}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var O={[o.Available]:"#90EE90",[o.Occupied]:"#FFA07A"};var A=class{static findSvgElement(c){return c.querySelector("svg")}static findRoomElement(c,e){let t=[`#${e}`,`[id="${e}"]`,`[data-id="${e}"]`,`[data-room-id="${e}"]`];for(let n of t){let s=c.querySelector(n);if(s)return s}return null}};var se=(()=>{class i{constructor(e){this.rooms=[],this.renderer=e.createRenderer(null,null)}applyRoomColors(e,t){let n=e.querySelector("svg");!n||!t?.length||t.forEach(s=>{this.findRoomElements(n,s.id).forEach(P=>{this.renderer.setAttribute(P,"fill",O[s.status]||"#ccc"),this.renderer.setAttribute(P,"data-room-id",s.id)})})}findRoomElements(e,t){let n=[`#${t}`,`[id="${t}"]`,`[data-id="${t}"]`,`[data-room-id="${t}"]`],s=[];return n.forEach(f=>{e.querySelectorAll(f).forEach(B=>s.push(B))}),s}highlightRoom(e,t,n){let s=A.findSvgElement(e);s&&(this.resetHighlights(s,n),this.applyHighlight(s,t))}resetHighlights(e,t){e.querySelectorAll("[data-room-id]").forEach(s=>{this.renderer.removeAttribute(s,"stroke"),this.renderer.removeAttribute(s,"stroke-width")})}applyHighlight(e,t){e.querySelectorAll(`[data-room-id="${t}"]`).forEach(s=>{this.renderer.setAttribute(s,"stroke","#000"),this.renderer.setAttribute(s,"stroke-width","2")})}static{this.\u0275fac=function(t){return new(t||i)(D(Z))}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ce=(()=>{class i{getStatusColor(e){return O[e]||"#ccc"}extractRoomNumber(e){return e.match(/\d+/)?.[0]||e}getStatusEntries(){return Object.entries(O)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=C({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ye(i,c){i&1&&(l(0,"div",9),_(1,"div",10),l(2,"p"),d(3,"Loading floor plan..."),r()())}function he(i,c){if(i&1&&(l(0,"div",11)(1,"p"),d(2),r()()),i&2){let e=p();a(2),V(e.errorMessage)}}function xe(i,c){if(i&1){let e=b();l(0,"li",20),x("click",function(){let n=y(e).$implicit,s=p(2);return h(s.selectRoom(n.id))}),_(1,"div",21),l(2,"span"),d(3),U(4,"roomNumber"),r()()}if(i&2){let e=c.$implicit,t=p(2);M("selected",(t.selectedRoom==null?null:t.selectedRoom.id)===e.id),a(),S("background-color",t.statusColors[e.status]),a(2),u("Room ",I(4,5,e.id),"")}}function be(i,c){if(i&1){let e=b();l(0,"div",22),x("click",function(){y(e);let n=p(2);return h(n.closeRoomDetails())}),r()}}function Oe(i,c){if(i&1&&_(0,"img",31),i&2){let e=p(3);m("src",e.selectedRoomType==null||e.selectedRoomType.imageUrl==null?null:e.selectedRoomType.imageUrl[0],j)}}function Ce(i,c){if(i&1&&_(0,"img",31),i&2){let e=p(4);m("src",e.selectedRoomType==null||e.selectedRoomType.imageUrl==null?null:e.selectedRoomType.imageUrl[0],j)}}function Pe(i,c){if(i&1&&v(0,Ce,1,1,"img",28),i&2){p();let e=z(14),t=p(2);m("ngIf",t.selectedRoomType==null||t.selectedRoomType.imageUrl==null?null:t.selectedRoomType.imageUrl.length)("ngIfElse",e)}}function Me(i,c){i&1&&_(0,"img",32)}function Ue(i,c){if(i&1){let e=b();l(0,"div",23)(1,"div",24),x("click",function(n){return y(e),h(n.stopPropagation())}),l(2,"div",25)(3,"h3"),d(4),U(5,"roomNumber"),r(),l(6,"button",26),x("click",function(){y(e);let n=p(2);return h(n.closeRoomDetails())}),d(7,"\u2716"),r()(),l(8,"div",27)(9,"div"),v(10,Oe,1,1,"img",28)(11,Pe,1,2,"ng-template",null,0,N)(13,Me,1,0,"ng-template",null,1,N),r(),l(15,"p")(16,"strong"),d(17,"Building:"),r(),d(18),r(),l(19,"p")(20,"strong"),d(21,"Floor:"),r(),d(22),r(),l(23,"p")(24,"strong"),d(25,"Status:"),r(),l(26,"span",29),_(27,"span",30),d(28),r()(),l(29,"p")(30,"strong"),d(31,"Features:"),r(),d(32),r(),l(33,"p")(34,"strong"),d(35,"Type:"),r(),d(36),r(),l(37,"p")(38,"strong"),d(39,"Kitchen:"),r(),d(40),r(),l(41,"p")(42,"strong"),d(43,"Bathroom:"),r(),d(44),r(),l(45,"p")(46,"strong"),d(47,"Livingroom:"),r(),d(48),r(),l(49,"p")(50,"strong"),d(51,"Size:"),r(),d(52),U(53,"sizeFormat"),r(),l(54,"p")(55,"strong"),d(56,"Price:"),r(),d(57),U(58,"currency"),r()()()()}if(i&2){let e=z(12),t=p(2);a(4),u("Room ",I(5,15,t.selectedRoom.id),""),a(6),m("ngIf",t.selectedRoom==null||t.selectedRoom.imageUrl==null?null:t.selectedRoom.imageUrl.length)("ngIfElse",e),a(8),u(" ",t.selectedBuilding,""),a(4),u(" ",t.selectedFloor,""),a(5),S("background-color",t.statusColors[t.selectedRoom.status]),a(),u(" ",t.selectedRoom.status," "),a(4),u(" ",t.selectedRoomType==null?null:t.selectedRoomType.features,""),a(4),u(" ",t.selectedRoomType==null?null:t.selectedRoomType.name,""),a(4),u(" ",t.selectedRoomType==null?null:t.selectedRoomType.kitchens,""),a(4),u(" ",t.selectedRoomType==null?null:t.selectedRoomType.bathrooms,""),a(4),u(" ",t.selectedRoomType==null?null:t.selectedRoomType.livingRooms," "),a(4),u(" ",I(53,17,t.selectedRoomType==null?null:t.selectedRoomType.size)," "),a(5),u(" ",I(58,19,t.selectedRoom.price),"")}}function Ie(i,c){if(i&1&&(l(0,"div",12)(1,"div",13)(2,"div",14)(3,"h3"),d(4,"Rooms"),r(),l(5,"ul"),v(6,xe,5,7,"li",15),r()(),l(7,"div",16),_(8,"div",17),r()(),v(9,be,1,0,"div",18)(10,Ue,59,21,"div",19),r()),i&2){let e=p();a(6),m("ngForOf",e.rooms),a(2),m("innerHTML",e.htmlContent,J),a(),m("ngIf",e.selectedRoom),a(),m("ngIf",e.selectedRoom)}}function Te(i,c){if(i&1&&(l(0,"div",33),_(1,"div",34),l(2,"span"),d(3),r()()),i&2){let e=c.$implicit;a(),S("background-color",e[1]),a(2),V(e[0])}}function Fe(i,c){if(i&1&&(l(0,"div",35)(1,"p"),d(2),r(),l(3,"p"),d(4),r(),l(5,"p"),d(6),r()()),i&2){let e=p();a(2),u("Building: ",e.selectedBuilding,""),a(2),u("Floor: ",e.selectedFloor,""),a(2),u("Rooms loaded: ",e.rooms.length,"")}}var me=(()=>{class i{constructor(e,t,n,s,f,P,B,ue,ge){this.sanitizer=e,this.buildingService=t,this.http=n,this.elementRef=s,this.roomService=f,this.roomTypesService=P,this.floorLayoutService=B,this.roomHelper=ue,this.cdr=ge,this.selectedBuilding=null,this.selectedFloor=null,this.htmlContent=null,this.errorMessage=null,this.isLoading=!1,this.rooms=[],this.selectedRoom=null,this.statusColors=O}ngOnInit(){this.selectedBuilding!==null&&this.selectedFloor!==null&&this.loadFloorPlanAndRooms()}ngOnChanges(e){(e.selectedBuilding||e.selectedFloor)&&this.selectedBuilding!==null&&this.selectedFloor!==null&&this.loadFloorPlanAndRooms()}loadFloorPlanAndRooms(){this.loadRooms(),this.loadFloorPlan()}loadRooms(){if(this.selectedBuilding===null||this.selectedFloor===null){this.rooms=[];return}let e=this.buildingService.getRoomsForBuildingAndFloor(this.selectedBuilding,this.selectedFloor);this.rooms=e||[]}loadFloorPlan(){if(!this.selectedBuilding||!this.selectedFloor){this.handleLoadError("Please select both a building and a floor");return}this.isLoading=!0,this.errorMessage=null,this.selectedRoom=null;let e=this.buildingService.getFloorPath(this.selectedBuilding,this.selectedFloor);this.http.get(e,{responseType:"text"}).subscribe({next:t=>this.handleFloorPlanSuccess(t),error:t=>this.handleLoadError("Failed to load floor plan",t)})}handleFloorPlanSuccess(e){this.htmlContent=this.sanitizer.bypassSecurityTrustHtml(e),this.isLoading=!1,this.processLoadedFloorPlan()}handleLoadError(e,t){console.error("Floor plan loading error:",t),this.errorMessage=e,this.htmlContent=null,this.isLoading=!1}processLoadedFloorPlan(){setTimeout(()=>{let e=this.elementRef.nativeElement.querySelector(".svg-container");e&&(this.floorLayoutService.applyRoomColors(e,this.rooms),this.setupRoomInteractions(e),this.cdr.detectChanges())},300)}setupRoomInteractions(e){let t=e.querySelector("svg");t&&t.querySelectorAll("[data-room-id]").forEach(n=>{n.addEventListener("click",s=>{let f=s.target.getAttribute("data-room-id");f&&this.selectRoom(f)})})}selectRoom(e){let t=this.roomService.findRoomById(this.rooms,e);if(!t)return;this.selectedRoom=t,this.selectedRoomType=this.roomTypesService.getRoomTypeById(t.typeId);let n=this.elementRef.nativeElement.querySelector(".svg-container");n&&this.floorLayoutService.highlightRoom(n,e,this.rooms)}getRoomTypeInfo(e){let t=this.roomTypesService.getRoomTypeById(e.typeId);return t?$(L(L({},t),e),{name:t.name,starterPrice:t.starterPrice,price:e.price,imageUrl:e.imageUrl?.length?e.imageUrl:t.imageUrl||[],virtualTourOverrideUrl:e.virtualTourOverrideUrl||t.virtualTourUrl}):null}closeRoomDetails(){this.selectedRoom=null,this.selectedRoomType=void 0}get statusEntries(){return this.roomHelper.getStatusEntries()}static{this.\u0275fac=function(t){return new(t||i)(g(te),g(k),g(ee),g(K),g(ae),g(le),g(se),g(ce),g(Y))}}static{this.\u0275cmp=F({type:i,selectors:[["app-floor-layout"]],inputs:{selectedBuilding:"selectedBuilding",selectedFloor:"selectedFloor"},features:[G],decls:7,vars:5,consts:[["checkRoomType",""],["noImage",""],[1,"container"],["class","loading-container",4,"ngIf"],["class","error-message",4,"ngIf"],["class","floor-view",4,"ngIf"],[1,"status-legend"],["class","legend-item",4,"ngFor","ngForOf"],["class","debug-info",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"error-message"],[1,"floor-view"],[1,"display"],[1,"room-list"],[3,"selected","click",4,"ngFor","ngForOf"],[1,"svg-container"],[3,"innerHTML"],["class","modal-backdrop",3,"click",4,"ngIf"],["class","room-details-modal",4,"ngIf"],[3,"click"],[1,"status-indicator"],[1,"modal-backdrop",3,"click"],[1,"room-details-modal"],[1,"room-details",3,"click"],[1,"header"],[1,"close-btn",3,"click"],[1,"details"],[3,"src",4,"ngIf","ngIfElse"],[1,"status"],[1,"status-dot"],[3,"src"],["src","/assets/no-image.png","alt","No Image Available"],[1,"legend-item"],[1,"legend-color"],[1,"debug-info"]],template:function(t,n){t&1&&(l(0,"div",2),v(1,ye,4,0,"div",3)(2,he,3,1,"div",4)(3,Ie,11,4,"div",5),l(4,"div",6),v(5,Te,4,3,"div",7),r(),v(6,Fe,7,3,"div",8),r()),t&2&&(a(),m("ngIf",n.isLoading),a(),m("ngIf",n.errorMessage),a(),m("ngIf",!n.isLoading&&!n.errorMessage),a(2),m("ngForOf",n.statusEntries),a(),m("ngIf",!1))},dependencies:[R,E,W,oe,re],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;overflow-x:hidden}body[_ngcontent-%COMP%]{overflow-y:auto}.container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto;padding:1rem;box-sizing:border-box;position:relative}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid #f5f7fa;border-top:5px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#34495e}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-message[_ngcontent-%COMP%]{padding:1rem;background-color:#f8c9c4;border-radius:8px;color:#d62c1a;text-align:center;margin:2rem 0}.floor-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:500px;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;overflow:hidden}.display[_ngcontent-%COMP%]{display:flex;flex-direction:row;min-height:500px;position:relative}@media (max-width: 768px){.display[_ngcontent-%COMP%]{flex-direction:column}}.room-list[_ngcontent-%COMP%]{width:250px;background-color:#f5f7fa;padding:1rem;border-right:1px solid #e0e0e0;overflow-y:auto}@media (max-width: 768px){.room-list[_ngcontent-%COMP%]{width:100%;border-right:none;border-bottom:1px solid #e0e0e0;max-height:200px}}.room-list[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;padding-bottom:.5rem;border-bottom:1px solid #e0e0e0}.room-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.room-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.7rem;margin-bottom:.3rem;border-radius:8px;cursor:pointer;transition:background-color .2s ease}.room-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#e4e9f2}.room-list[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#e1f0fa}.room-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;margin-right:10px}.svg-container[_ngcontent-%COMP%]{flex:1;padding:1rem;overflow:auto}.svg-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:auto;min-height:400px;display:block}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;z-index:10}.room-details-modal[_ngcontent-%COMP%]{position:fixed;inset:0;display:flex;justify-content:center;align-items:center;z-index:1000;padding:1rem;background-color:#00000080;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;width:100%;max-width:600px;max-height:90vh;box-shadow:0 5px 25px #0003;overflow:hidden;display:flex;flex-direction:column}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;background-color:#3498db;color:#fff;position:sticky;top:0;z-index:1}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.3rem}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;transition:transform .2s}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding:1.5rem;overflow-y:auto;display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{grid-column:1/-1}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:250px;object-fit:cover;border-radius:8px;box-shadow:0 2px 10px #0000001a;display:block;margin:0 auto}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:.95rem;line-height:1.5}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#34495e;font-weight:600}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#3498db}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .5rem;border-radius:4px;background-color:#0000000d}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;margin-right:6px;display:inline-block}@media (max-width: 768px){.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]{max-width:95vw;max-height:85vh}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1rem}.room-details-modal[_ngcontent-%COMP%]   .room-details[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px}}.status-legend[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1rem;margin-top:2rem;padding:1rem;background-color:#f5f7fa;border-radius:8px}.status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:1rem}.status-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:50%;margin-right:8px}.debug-info[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem;background-color:#f5f7fa;border-radius:8px;font-family:monospace}.debug-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.3rem 0}"]})}}return i})();function Re(i,c){if(i&1){let e=b();l(0,"button",6),x("click",function(){let n=y(e).$implicit,s=p();return h(s.selectBuilding(n))}),d(1),r()}if(i&2){let e=c.$implicit,t=p();M("selected",(t.selectedBuilding==null?null:t.selectedBuilding.id)===e.id),a(),u(" ",e.name," ")}}function Ee(i,c){if(i&1){let e=b();l(0,"button",6),x("click",function(){let n=y(e).$implicit,s=p(2);return h(s.selectFloor(n))}),d(1),r()}if(i&2){let e=c.$implicit,t=p(2);M("selected",t.selectedFloor===e),a(),u(" Floor ",e," ")}}function we(i,c){if(i&1&&(l(0,"div",1)(1,"h2"),d(2,"Select Floor"),r(),l(3,"div",2),v(4,Ee,2,3,"button",3),r()()),i&2){let e=p();a(4),m("ngForOf",e.selectedBuilding.floors)}}function ke(i,c){if(i&1&&(l(0,"div",7)(1,"h3"),d(2),r(),_(3,"app-floor-layout",8),r()),i&2){let e=p();a(2),Q("",e.selectedBuilding.name," - Floor ",e.selectedFloor,""),a(),m("selectedBuilding",e.selectedBuilding.id)("selectedFloor",e.selectedFloor)}}var pe=(()=>{class i{constructor(e){this.buildingService=e,this.buildings=[],this.selectedBuilding=null,this.selectedFloor=null}ngOnInit(){this.buildings=this.buildingService.getAllBuildings(),this.buildings.length>0&&this.selectBuilding(this.buildings[0])}selectBuilding(e){this.selectedBuilding=e,this.selectedFloor=null,e.floors.length>0&&this.selectFloor(e.floors[0])}selectFloor(e){this.selectedFloor=e}static{this.\u0275fac=function(t){return new(t||i)(g(k))}}static{this.\u0275cmp=F({type:i,selectors:[["app-building-selector"]],decls:10,vars:3,consts:[[1,"container"],[1,"selector-container"],[1,"button-group"],[3,"selected","click",4,"ngFor","ngForOf"],["class","selector-container",4,"ngIf"],["class","floor-layout-container",4,"ngIf"],[3,"click"],[1,"floor-layout-container"],[3,"selectedBuilding","selectedFloor"]],template:function(t,n){t&1&&(l(0,"div",0)(1,"h1"),d(2,"Building Floor Plan Viewer"),r(),l(3,"div",1)(4,"h2"),d(5,"Select Building"),r(),l(6,"div",2),v(7,Re,2,3,"button",3),r()(),v(8,we,5,1,"div",4)(9,ke,4,4,"div",5),r()),t&2&&(a(7),m("ngForOf",n.buildings),a(),m("ngIf",n.selectedBuilding),a(),m("ngIf",n.selectedBuilding&&n.selectedFloor!==null))},dependencies:[R,E,me],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}h1[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:2rem;font-weight:600;text-align:center}h2[_ngcontent-%COMP%]{color:#34495e;font-size:1.5rem;margin-bottom:1rem}h3[_ngcontent-%COMP%]{color:#34495e;font-size:1.3rem;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:1px solid #f5f7fa}.selector-container[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;background-color:#f5f7fa;border-radius:8px;box-shadow:0 2px 10px #0000001a}.button-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;background-color:#fff;border:1px solid #ddd;border-radius:8px;color:#34495e;font-size:1rem;cursor:pointer;transition:all .3s ease}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e1f0fa;border-color:#3498db}.button-group[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border-color:#217dbb}.floor-layout-container[_ngcontent-%COMP%]{padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;min-height:400px}.floor-layout-container[_ngcontent-%COMP%]   app-floor-layout[_ngcontent-%COMP%]{display:block;width:100%;min-height:350px}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem}.button-group[_ngcontent-%COMP%]{flex-direction:column}.button-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})}}return i})();var Ae=[{path:"",component:pe,pathMatch:"full"}],at=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=q({type:i})}static{this.\u0275inj=H({imports:[X,ne,ie.forChild(Ae)]})}}return i})();export{at as BuildingSelectorModule};
